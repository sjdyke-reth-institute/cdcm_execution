
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Function &#8212; CDCM tutorial book</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Transition" href="Transition.html" />
    <link rel="prev" title="State" href="State.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">CDCM tutorial book</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Introduction
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="core_system.html">
   Core System
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="Node.html">
     Node
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Variable.html">
     Variable
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="State.html">
     State
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Function
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Transition.html">
     Transition
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="System.html">
     System
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="Coupled%20system.html">
       Coupled System
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Doubly%20coupled%20systems.html">
       Doubly Coupled System
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/Function.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/sjdyke-reth-institute/CDCM_reconfig/master?urlpath=lab/tree/CDCM_book/Function.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/sjdyke-reth-institute/CDCM_reconfig/blob/master/CDCM_book/Function.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#order-of-evaluation-topological-sort">
   Order of evaluation - Topological sort
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-with-one-input-and-one-output">
     Function with one input and one output
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-standard-function-defnition">
       Using standard function defnition
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-lambda">
       Using lambda
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-python-decorator-make-function">
       Using python decorator @make_function
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-with-multiple-inputs-and-one-output">
     Function with multiple inputs and one output
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-with-multiple-inputs-and-outputs">
     Function with multiple inputs and  outputs
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Function</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#order-of-evaluation-topological-sort">
   Order of evaluation - Topological sort
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-with-one-input-and-one-output">
     Function with one input and one output
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-standard-function-defnition">
       Using standard function defnition
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-lambda">
       Using lambda
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-python-decorator-make-function">
       Using python decorator @make_function
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-with-multiple-inputs-and-one-output">
     Function with multiple inputs and one output
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-with-multiple-inputs-and-outputs">
     Function with multiple inputs and  outputs
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cdcm</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="function">
<h1>Function<a class="headerlink" href="#function" title="Permalink to this headline">¶</a></h1>
<p>Function class is formed by directly inheriting Node
class. Hence it has all the properties of Node class.
Function class represents function node. The parents and children of Function
node are Variables. A function node takes the values of the parents as input and
sets the values of its children. A Function object can be made in different ways.
Each of which differs by the compactness and elegance.<br></p>
<div class="section" id="order-of-evaluation-topological-sort">
<h2>Order of evaluation - Topological sort<a class="headerlink" href="#order-of-evaluation-topological-sort" title="Permalink to this headline">¶</a></h2>
<p>In CDCM, each component is represented as a node in a directed acyclic graph (DAG). The dependencies between the nodes are represented as arrow edges with arrow being pointed towards the dependent variable. For evaluating functions, systems in CDCM, topological sort of DAG is used. Topological sort gives the order in which the nodes of the graph should be evaluated. The order of evaluation will start with nodes corresponding to independent quantities. These nodes will have arrow edges only going out. Once these nodes are evaluated, nodes which can be fully evaluated using the values of these independent nodes are evaluated next. This procedure is continued untill all the nodes of DAG are evaluated.</p>
<div class="section" id="function-with-one-input-and-one-output">
<h3>Function with one input and one output<a class="headerlink" href="#function-with-one-input-and-one-output" title="Permalink to this headline">¶</a></h3>
<p>Let us consider a simple function <code class="docutils literal notranslate"><span class="pre">f</span></code> which takes one input node <code class="docutils literal notranslate"><span class="pre">node_in</span></code>. The function evaluates the function expression using the input node value and assigns / updates the value to the output node <code class="docutils literal notranslate"><span class="pre">node_out</span></code>. The graph of this function is as shown below. Order of evaluation of this graph will be: <code class="docutils literal notranslate"> <span class="pre">node_in,</span> <span class="pre">f,</span> <span class="pre">node_out</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">graphviz</span> <span class="kn">import</span> <span class="n">Digraph</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;Function&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;node_in&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&lt;node&lt;sub&gt;in&lt;/sub&gt;&gt;&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;node_out&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&lt;node&lt;sub&gt;out&lt;/sub&gt;&gt;&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;node_in&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;node_out&#39;</span><span class="p">)</span>
<span class="c1">#g.render(&#39;Function&#39;, format=&#39;png&#39;)</span>
<span class="n">g</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Function_4_0.svg" src="_images/Function_4_0.svg" /></div>
</div>
<div class="section" id="using-standard-function-defnition">
<h4>Using standard function defnition<a class="headerlink" href="#using-standard-function-defnition" title="Permalink to this headline">¶</a></h4>
<p>Here the function is constructed separately and is passed as an argument while creating Function object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="n">node_in</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:node_in:0.5:m&quot;</span><span class="p">)</span>
<span class="n">node_out</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:node_out&quot;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;m&quot;</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;f&quot;</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">,</span>
    <span class="n">parents</span><span class="o">=</span><span class="n">node_in</span><span class="p">,</span>
    <span class="n">children</span><span class="o">=</span><span class="n">node_out</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>f:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;node_in&#39;,)
  children: (&#39;node_out&#39;,)
  func: !!python/name:__main__.func &#39;&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before we call forward:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_out</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After we call forward:&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">forward</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_out</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_in</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before we call forward:
node_out:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;f&#39;,)
  children: ()
  value: None
  units: m
  track: true

After we call forward:
node_out:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;f&#39;,)
  children: ()
  value: 0.375
  units: m
  track: true

node_in:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: ()
  children: (&#39;f&#39;,)
  value: 0.5
  units: m
  track: true
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="using-lambda">
<h4>Using lambda<a class="headerlink" href="#using-lambda" title="Permalink to this headline">¶</a></h4>
<p>Here Python’s lambda function feature is used to create a Function object. This is compact than the previously mentioned way of making a Function object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">node_in</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:node_in:0.5:m&quot;</span><span class="p">)</span>
<span class="n">node_out</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:node_out&quot;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;m&quot;</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;f&quot;</span><span class="p">,</span>
    <span class="n">func</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">parents</span><span class="o">=</span><span class="n">node_in</span><span class="p">,</span>
    <span class="n">children</span><span class="o">=</span><span class="n">node_out</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>f:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;node_in&#39;,)
  children: (&#39;node_out&#39;,)
  func: !!python/name:__main__.%3Clambda%3E &#39;&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before we call forward:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_out</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After we call forward:&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">forward</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_out</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_in</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before we call forward:
node_out:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;f&#39;,)
  children: ()
  value: None
  units: m
  track: true

After we call forward:
node_out:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;f&#39;,)
  children: ()
  value: 0.375
  units: m
  track: true

node_in:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: ()
  children: (&#39;f&#39;,)
  value: 0.5
  units: m
  track: true
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="using-python-decorator-make-function">
<h4>Using python decorator &#64;make_function<a class="headerlink" href="#using-python-decorator-make-function" title="Permalink to this headline">¶</a></h4>
<p>The Function object <code class="docutils literal notranslate"><span class="pre">f</span></code> is created under the decorator as shown below. The child node <code class="docutils literal notranslate"><span class="pre">node_out</span></code> is given as argument to <code class="docutils literal notranslate"><span class="pre">&#64;make_function</span></code>. The parent node <code class="docutils literal notranslate"><span class="pre">node_in</span></code> is given as argument to the function <code class="docutils literal notranslate"><span class="pre">f</span></code> defined under the decorator. The function <code class="docutils literal notranslate"><span class="pre">f</span></code> evaluates the functional form and returns the value to be assigned to the child node.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">node_in</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:node_in:0.5:m&quot;</span><span class="p">)</span>
<span class="n">node_out</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:node_out&quot;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;m&quot;</span><span class="p">)</span>

<span class="nd">@make_function</span><span class="p">(</span><span class="n">node_out</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">node_in</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_in</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_out</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>f:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;node_in&#39;,)
  children: (&#39;node_out&#39;,)
  func: !!python/name:__main__.f &#39;&#39;

node_in:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: ()
  children: (&#39;f&#39;,)
  value: 0.5
  units: m
  track: true

node_out:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;f&#39;,)
  children: ()
  value: None
  units: m
  track: true
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before we call forward:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_out</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After we call forward:&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">forward</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">node_out</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before we call forward:
node_out:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;f&#39;,)
  children: ()
  value: None
  units: m
  track: true

After we call forward:
node_out:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;f&#39;,)
  children: ()
  value: 0.375
  units: m
  track: true
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="function-with-multiple-inputs-and-one-output">
<h3>Function with multiple inputs and one output<a class="headerlink" href="#function-with-multiple-inputs-and-one-output" title="Permalink to this headline">¶</a></h3>
<p>Here we consider a function <code class="docutils literal notranslate"><span class="pre">g</span></code> which takes two input nodes <code class="docutils literal notranslate"><span class="pre">n1</span> <span class="pre">&amp;</span> <span class="pre">n2</span></code>. The function evaluates the function expression using the input node values and assigns / updates the value to the output node <code class="docutils literal notranslate"><span class="pre">n3</span></code>. The graph of this function is as shown below. Order of evaluation of this graph will be: <code class="docutils literal notranslate"> <span class="pre">n1,</span> <span class="pre">n2,</span> <span class="pre">f,</span> <span class="pre">n3</span></code> or <code class="docutils literal notranslate"> <span class="pre">n2,</span> <span class="pre">n1,</span> <span class="pre">f,</span> <span class="pre">n3</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">graphviz</span> <span class="kn">import</span> <span class="n">Digraph</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;Function&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;n1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&lt;n&lt;sub&gt;1&lt;/sub&gt;&gt;&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;n2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&lt;n&lt;sub&gt;2&lt;/sub&gt;&gt;&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;n3&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&lt;n&lt;sub&gt;3&lt;/sub&gt;&gt;&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;n1&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;n2&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;n3&#39;</span><span class="p">)</span>
<span class="c1">#g.render(&#39;Function&#39;, format=&#39;png&#39;)</span>
<span class="n">g</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Function_15_0.svg" src="_images/Function_15_0.svg" /></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n1</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:n1:0.6:m/s&quot;</span><span class="p">)</span>
<span class="n">n2</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:n2:1.0:m/s&quot;</span><span class="p">)</span>
<span class="n">n3</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:n3&quot;</span><span class="p">)</span>
<span class="nd">@make_function</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">n1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">n2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>g:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;n1&#39;, &#39;n2&#39;)
  children: (&#39;n3&#39;,)
  func: !!python/name:__main__.g &#39;&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before we call forward:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After we call forward:&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">forward</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before we call forward:
n3:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;g&#39;,)
  children: ()
  value: None
  units: &#39;&#39;
  track: true

After we call forward:
n3:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;g&#39;,)
  children: ()
  value: 1.6
  units: &#39;&#39;
  track: true
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="function-with-multiple-inputs-and-outputs">
<h3>Function with multiple inputs and  outputs<a class="headerlink" href="#function-with-multiple-inputs-and-outputs" title="Permalink to this headline">¶</a></h3>
<p>Here we consider a function <code class="docutils literal notranslate"><span class="pre">g</span></code> which takes two input nodes <code class="docutils literal notranslate"><span class="pre">n1</span> <span class="pre">&amp;</span> <span class="pre">n2</span></code>. The function evaluates the function expression using the input node values and assigns / updates the value to the output nodes <code class="docutils literal notranslate"><span class="pre">n3</span> <span class="pre">&amp;</span> <span class="pre">n4</span></code>. The graph of this function is as shown below. One of the order of evaluations of this graph will be: <code class="docutils literal notranslate"> <span class="pre">n1,</span> <span class="pre">n2,</span> <span class="pre">f,</span> <span class="pre">n3,</span> <span class="pre">n4</span></code>. Order of evaluation of input nodes can be in any order. For egs, <code class="docutils literal notranslate"><span class="pre">n1,</span> <span class="pre">n2</span></code> and <code class="docutils literal notranslate"><span class="pre">n2,</span> <span class="pre">n1</span></code> order of evaluations are equivalent. Same concept applies for output nodes as well.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">graphviz</span> <span class="kn">import</span> <span class="n">Digraph</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;Function&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;n1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&lt;n&lt;sub&gt;1&lt;/sub&gt;&gt;&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;n2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&lt;n&lt;sub&gt;2&lt;/sub&gt;&gt;&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;n3&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&lt;n&lt;sub&gt;3&lt;/sub&gt;&gt;&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;n4&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;&lt;n&lt;sub&gt;4&lt;/sub&gt;&gt;&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;n1&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;n2&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;n3&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;n4&#39;</span><span class="p">)</span>
<span class="c1">#g.render(&#39;Function&#39;, format=&#39;png&#39;)</span>
<span class="n">g</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Function_19_0.svg" src="_images/Function_19_0.svg" /></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">n1</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:n1:0.6:m&quot;</span><span class="p">)</span>
<span class="n">n2</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:n2:2.0:m&quot;</span><span class="p">)</span>
<span class="n">n3</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:n3&quot;</span><span class="p">)</span>
<span class="n">n4</span> <span class="o">=</span> <span class="n">make_node</span><span class="p">(</span><span class="s2">&quot;V:n4&quot;</span><span class="p">)</span>
<span class="nd">@make_function</span><span class="p">(</span><span class="n">n3</span><span class="p">,</span> <span class="n">n4</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">n1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">n2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
<span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>g:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;n1&#39;, &#39;n2&#39;)
  children: (&#39;n3&#39;, &#39;n4&#39;)
  func: !!python/name:__main__.g &#39;&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before we call forward:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After we call forward:&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">forward</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before we call forward:
n3:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;g&#39;,)
  children: ()
  value: None
  units: &#39;&#39;
  track: true

n4:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;g&#39;,)
  children: ()
  value: None
  units: &#39;&#39;
  track: true

After we call forward:
n3:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;g&#39;,)
  children: ()
  value: 2.6
  units: &#39;&#39;
  track: true

n4:
  description: &#39;&#39;
  owner: &#39;&#39;
  parents: (&#39;g&#39;,)
  children: ()
  value: 1.2
  units: &#39;&#39;
  track: true
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="State.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">State</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Transition.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Transition</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Sreehari Manikkan<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>